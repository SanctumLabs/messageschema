# Continuous Integration and Continuous Deployment (CI/CD)

This project has been setup to leverage CI servers provided by [Gitlab CI](https://docs.gitlab.com/ee/ci/), [Github Actions](https://github.com/features/actions) & [Bitbucket Pipelines](https://bitbucket.org/product/features/pipelines) to provide a seamless automated deployment
of packages and libraries generated by the project. This documents the flow and setup of the same.

The flow starts from Gitlab which mirrors the repository to Github & Bitbucket which run their own set of automation. The reason for this is 2 fold:

1. Allows having a private set of packages that could be used for enterprise applications
2. Allows for having public packages that could be adopted by the overall open source community allowing an organization to leverage the open source community contribution.

Further, this also allows for redundancy, packages will always be available in either a private or public registry.

## Steps

The steps start with linting of the schema, generating a build and then publishing to [buf registry](https://buf.build/docs/introduction). The last step is a manual trigger & is only run from GitLab's pipelines. This then creates a tag on GitLab, Github & Bitbucket which run further publication of packages.

Gitlab will package the build generated code in several languages(Python, Go, JavaScript, Kotlin) in it's package registry while Github Actions will do the same and publish Maven & NPM packages to Github Package registry and also to PyPI.

Secondly releases are both available on GitLab and GitHub wich a generated [changelog](./CHANGELOG.md) that is generated automatically with all the changes documented.
